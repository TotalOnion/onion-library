{# Do not edit this file outside of the component library as your changes will be lost with future updates. #}
{% set blockClassName = "bazaarvoice-display" %}
{% set displaytype = 'grid' %}

{% set classNameEntryPoint = include('entry-points/entry-point-classes.twig', { fields, block }, with_context = false) %}
{% set htmlEntryPoint = include('entry-points/entry-point-html.twig', { fields, block, blockClassName, options, environment, is_preview, nav_menus }, with_context = false) %}
{% set dataAttributeEntryPoint = include('entry-points/entry-point-data-attribute.twig', { fields, block }, with_context = false) %}
{% set styleEntryPoint = include('entry-points/entry-point-style.twig', { fields, block, displaytype, is_preview }, with_context = false) %}
{% set previewEntryPoint = include('entry-points/entry-point-preview-info.twig', { fields, block, displaytype, is_preview }, with_context = false) %}


{% set productInfo = get_post(fields.bazaarvoice_product) %}

{% set backgroundColour = '--background-colour: ' ~ fields.background_colour ~ ';' %}
{% set bvBackgroundColour = '--bv-background-colour: ' ~ fields.bv_background_colour ~ ';' %}

{% set sectionStyles = styleEntryPoint ~ backgroundColour ~ bvBackgroundColour ~ blockPadding ~ showHideResponsive ~ globalMaxWidth %}
<style>
	.{{blockClassName}}.{{block.id}}{
		{{sectionStyles}}
	}
</style>

<section {{block.anchor ? "id=" ~ block.anchor : ''}} class="{{blockClassName}} {{block.className}} {{classNameEntryPoint}} lazy-fade {{block.id}}" {{dataAttributeEntryPoint}} data-jsload="false" data-blockid="{{block.id}}" data-assetkey="bazaarvoice-display">

	<div class="{{blockClassName}}-wrap {{classNameEntryPoint}}">

		{% if fields.bazaarvoice_title_text_info %}
			<div class="{{blockClassName}}-content-title">{{fields.bazaarvoice_title_text_info}}</div>
		{% endif %}
		<div class="{{blockClassName}}__content">
			{% if productInfo.product_bazaarvoice and fields.bv_display_options %}
				[bazaarvoice bazaarvoice_product_id="{{productInfo.product_bazaarvoice}}" type="{{fields.bv_display_options|join(', ')|replace({'__': ""})}}"]
			{% endif %}
		</div>
	</div>
	{{htmlEntryPoint}}
</section>
