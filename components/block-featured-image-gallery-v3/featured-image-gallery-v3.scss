@use '../fields-core-mixins-v3/core-mixins-v3';
@use '../fields-core-functions-v3/core-functions-v3';
@use '../../breakpoints';

.featured-image-gallery-v3 {
	display: grid;
	grid-template:
		'featured'
		'other' / 1fr;
	grid-gap: core-functions-v3.fluidSize(var(--column-gap), 10);
	@include core-mixins-v3.device(breakpoints.$tabPortrait) {
		grid-template: 'featured other' / 1fr 1fr;
		grid-gap: core-functions-v3.fluidSize(10);
	}

	&__featured-image-container {
		perspective: 1000px;
		&.changing-image
			.featured-image-gallery-v3__featured-image-inner-container {
			transform: rotateY(180deg);
		}
	}

	&__featured-image-inner-container {
		position: relative;
		width: 100%;
		height: 100%;
		text-align: center;
		transition: transform 0.8s;
		transform-style: preserve-3d;
	}
	&__featured-image-front,
	&__featured-image-back {
		position: absolute;
		width: 100%;
		height: 100%;
		backface-visibility: hidden;
	}
	&__featured-image-front {
		background-color: #bbb;
		color: black;
	}

	&__featured-image-back {
		display: grid;
		place-items: center;
		background-color: var(--bally-blue-dark);
		transform: rotateY(180deg);
		padding: core-functions-v3.fluidSize(20);
		@include core-mixins-v3.device(breakpoints.$tabPortrait) {
			padding: core-functions-v3.fluidSize(120);
		}
	}

	&__featured-image {
		grid-area: featured;
		object-fit: cover;
		aspect-ratio: 1;
		@include core-mixins-v3.device(breakpoints.$tabPortrait) {
			width: 100%;
			height: auto;
		}
	}

	&__other-images {
		grid-area: other;
		place-self: stretch;
		display: grid;
		grid-gap: core-functions-v3.fluidSize(8);
		grid-template-columns: repeat(3, 1fr);
		grid-auto-rows: 1fr;
		@include core-mixins-v3.device(breakpoints.$tabPortrait) {
			grid-gap: core-functions-v3.fluidSize(10);
		}
	}

	&__image-wrapper {
		display: flex;
		overflow: hidden;
		box-shadow: 0px 0px 8px transparent;
		transition: box-shadow 0.2s;
		&:hover {
			box-shadow: 0px 0px 8px white;
			cursor: pointer;
		}
	}

	&__image {
		object-fit: cover;
		aspect-ratio: 1;
		width: 100%;
		height: auto;
		transition: transform 0.5s ease-out, filter 0.5s;
		&:hover {
			filter: contrast(105%);
		}
	}
}
