{# Do not edit this file outside of the component library as your changes will be lost with future updates. #}
{% set blockClassName = "sub-group-container" %}
{% set classNameEntryPoint = include('entry-points/entry-point-classes.twig', { fields, block }, with_context = false) %}
{% set htmlEntryPoint = include('entry-points/entry-point-html.twig', { fields, block, blockClassName, options, cta_styles, environment, is_preview, nav_menus }, with_context = false) %}
{% set dataAttributeEntryPoint = include('entry-points/entry-point-data-attribute.twig', { fields, block }, with_context = false) %}
{% set styleEntryPoint = include('entry-points/entry-point-style.twig', { fields, block, displaytype, is_preview }, with_context = false) %}
{% set previewEntryPoint = include('entry-points/entry-point-preview-info.twig', { fields, block, displaytype, is_preview }, with_context = false) %}
{% set previewEntryPoint = include('entry-points/entry-point-preview-info.twig', { fields: fields, block: block, displaytype: displaytype, is_preview: is_preview }, with_context = false) %}

{% set backgroundColour = '--section-background-colour: ' ~ fields.background_colour ~ ';' %}

{% set gridLayoutContainer = include('components/grid-layout-container.twig') %}
{% set gridGapMults = include('components/grid-gap-mults.twig') %}
{% set blockElementType = fields.block_element_type|default('section')|ru %}

{% set imageSizes = '(min-width: 1440px) ' ~ (100 / fields.grid_columns_desktop)|round ~ 'vw, (min-width: 1024px) ' ~ (100 / fields.grid_columns_desktop)|round ~ 'vw, (min-width: 768px) ' ~ (100 / fields.grid_columns_portrait)|round ~ 'vw, (min-width: 300px) ' ~(100 / fields.grid_columns_mobile)|round ~ 'vw, 100vw' %}


{% set sectionStyles =  styleEntryPoint ~ backgroundColour ~ gridGapMults ~ gridLayoutContainer ~ containerOverflowType ~ blockPosition %}

{{previewEntryPoint}}
<style>
	.{{blockClassName}}.{{block.id}}{
		{{sectionStyles}}
	}
</style>
<{{blockElementType}} {{block.anchor ? "id=" ~ block.anchor : ''}} class="sub-group-container {{blockClassName}} {{block.className}} {{classNameEntryPoint}} {{block.id}} lazy-fade" {{dataAttributeEntryPoint}} data-jsload="false" data-assetkey="sub-group-container">
	<div class="{{blockClassName}}__grid-container">
		{% for section in fields.sections %}
			{% set gridLayoutElement = include('components/grid-layout-element.twig', { fields: section, block: block }, with_context = false) %}
			{% if block %}
				{% set block = block|merge({'anchor' : '','className' : '', 'id': block.id ~ '-' ~ loop.index }) %}
			{% endif %}
			<style>
				.{{blockClassName}}__block-container.{{block.id}}{
					{{gridLayoutElement}}
				}
			</style>
			<div class="{{blockClassName}}__block-container {{block.id}}">
				{{ include('blocks/' ~ (section.acf_fc_layout|replace({ '_': '-' })) ~ '.twig', { fields: section, options, block, is_preview, current, nav_menus, site, cta_styles, market_settings, languages, imageSizes }, with_context = false, ignore_missing = true) }}
			</div>
		{% endfor %}
	</div>
	{{htmlEntryPoint}}
</{{blockElementType}}>
