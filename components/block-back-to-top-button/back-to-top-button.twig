{# Do not edit this file outside of the component library as your changes will be lost with future updates. #}
{% set blockClassName = "back-to-top-button" %}
{% set classNameEntryPoint = include('entry-points/entry-point-classes.twig', { fields, block }, with_context = false) %}
{% set htmlEntryPoint = include('entry-points/entry-point-html.twig', { fields, block, blockClassName, options, environment, is_preview, nav_menus }, with_context = false) %}
{% set dataAttributeEntryPoint = include('entry-points/entry-point-data-attribute.twig', { fields, block }, with_context = false) %}
{% set styleEntryPoint = include('entry-points/entry-point-style.twig', { fields, block, displaytype, is_preview }, with_context = false) %}
{% set previewEntryPoint = include('entry-points/entry-point-preview-info.twig', { fields, block, displaytype, is_preview }, with_context = false) %}


{% set buttonBorderRadius = '--button-border-radius: ' ~ fields.btt_border_radius ~ ';' %}
{% set imageSize = '--image-size: ' ~ fields.image_size ~ ';' %}

{% set buttonImage = get_image(fields.btt_image) %}
{% set enabled = fields.enable_btt_button %}
{% set bgColour = fields.btt_background_colour %}
{% set arrowColour = fields.btt_arrow_colour %}
{% set position = fields.btt_position|ru %}

{% set sectionStyles =  styleEntryPoint ~ buttonBorderRadius ~ imageSize %}
<style>
	.{{blockClassName}}.{{block.id}}{
		{{sectionStyles}}
	}
</style>

{% if enabled %}
	<section {{block.anchor ? "id=" ~ block.anchor : ''}} class="back-to-top-button {{blockClassName}} {{block.className}} {{classNameEntryPoint}} lazy-fade {{block.id}}" {{dataAttributeEntryPoint}} data-assetkey="back-to-top-button">
		<button aria-label="back to the top button" class="back-to-top-button__button back-to-top-button__button--{{position}}" style="--bg-colour: {{bgColour}}">
			{% if fields.enable_custom_image %}
				<img class="back-to-top-button__image" width="{{buttonImage.width}}" height="{{buttonImage.height}}" src="{{ buttonImage.src }}" alt="{{buttonImage.alt}}">
			{% else %}
				<span class="back-to-top-button__arrow" style="--arrow-colour: {{arrowColour}}"></span>
			{% endif %}
		</button>
		{{htmlEntryPoint}}
	</section>
{% endif %}
