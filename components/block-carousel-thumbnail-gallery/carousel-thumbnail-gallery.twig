{# Do not edit this file outside of the component library as your changes will be lost with future updates. #}
{% set blockClassName = "carousel-thumbnail-gallery" %}
{% set classNameEntryPoint = include('entry-points/entry-point-classes.twig', { fields, block }, with_context = false) %}
{% set htmlEntryPoint = include('entry-points/entry-point-html.twig', { fields, block, blockClassName, options, environment, is_preview, nav_menus }, with_context = false) %}
{% set dataAttributeEntryPoint = include('entry-points/entry-point-data-attribute.twig', { fields, block }, with_context = false) %}
{% set styleEntryPoint = include('entry-points/entry-point-style.twig', { fields, block, displaytype, is_preview }, with_context = false) %}
{% set previewEntryPoint = include('entry-points/entry-point-preview-info.twig', { fields, block, displaytype, is_preview }, with_context = false) %}


{% set arrowColour = '--swiper-arrow-colour:' ~ fields.nav_arrow_colour|ru ~ ';' %}
{% set paginationColour = '--swiper-pagination-colour:' ~ fields.pagination_colour|ru ~ ';' %}
{% set carouselBackgroundColour = '--carousel-bg-colour:' ~ fields.background_colour ~ ';' %}
{% set sectionGap = '--section-gap-multiplier :' ~ fields.section_gap ~ ';' %}

{% set sectionStyles =  styleEntryPoint ~ blockBorderRadius ~ arrowColour ~ paginationColour ~ arrowColour ~ paginationColour ~ carouselBackgroundColour ~ sectionGap %}

<section {{block.anchor ? "id=" ~ block.anchor : ''}} class="carousel-thumbnail-gallery {{blockClassName}} {{block.className}} {{classNameEntryPoint}} lazy-fade {{block.id}}" data-autoplay="{{fields.autoslide}}" data-transitiondelay="{{fields.transition_delay}}" data-transitionspeed="{{fields.transition_speed}}" data-mobileslides="{{fields.number_of_thumbnails_mobile}}" data-tabletslides="{{fields.number_of_thumbnails_tablet}}" data-desktopslides="{{fields.number_of_thumbnails_desktop}}" data-desktopspacebetweenslides="{{fields.space_between_thumbnails_desktop}}" data-mobilespacebetweenslides="{{fields.space_between_thumbnails_mobile}}" data-tabletspacebetweenslides="{{fields.space_between_thumbnails_tablet}}" data-assetkey="carousel-thumbnail-gallery" style="{{sectionStyles}}">


	{% set arrowData = fields %}
	<div class="swiper carousel-thumbnail-gallery__swiper-carousel-container carousel-thumbnail-gallery__swiper-carousel-container--main">
		{% set imageShape = fields.image_shape|ru %}
		<div class="swiper-wrapper">
			{% for slide in fields.slides %}
				{% set slideImage = value %}
				{% if imageShape == 'wide' %}
					{% set slideImage = get_image(slide.image_wide) %}
					{% set aspect_ratio = '16x9' %}
					{% set image_aspect_ratio = '16/9' %}
				{% elseif imageShape == 'square'%}
					{% set slideImage = get_image(slide.image_square) %}
					{% set aspect_ratio = '4x4' %}
					{% set image_aspect_ratio = '4/4' %}
				{% else %}
					{% set slideImage = get_image(slide.image) %}
				{% endif %}
				<div class="swiper-slide carousel-thumbnail-gallery__slide">
					<img src="{{gt_image_mainsrc(slideImage, {"aspect_ratio" : aspect_ratio})}}" style="--image-aspect-ratio: {{image_aspect_ratio}}" srcset="{{gt_image_srcset(slideImage, {"aspect_ratio" : aspect_ratio})}}" alt="{{slideImage.alt}}" width="{{slideImage.width}}" height="{{slideImage.height}}" class="carousel-thumbnail-gallery__slide-image">
				</div>
			{% endfor %}
		</div>
	</div>
	<div class="swiper carousel-thumbnail-gallery__swiper-carousel-container carousel-thumbnail-gallery__swiper-carousel-container--thumbs " thumbsslider=''>
		<div class="swiper-wrapper">
			{% for slide in fields.slides %}
				{% if imageShape == 'wide' %}
					{% set slideImage = get_image(slide.image_wide) %}
					{% set aspect_ratio = '16x9' %}
					{% set image_aspect_ratio = '16/9' %}
				{% elseif imageShape == 'square'%}
					{% set slideImage = get_image(slide.image_square) %}
					{% set aspect_ratio = '4x4' %}
					{% set image_aspect_ratio = '4/4' %}
				{% else %}
					{% set slideImage = get_image(slide.image) %}
				{% endif %}
				<div class="swiper-slide carousel-thumbnail-gallery__thumbnail-slide">
					<img src="{{gt_image_mainsrc(slideImage, {"aspect_ratio" : aspect_ratio})}}" style="--image-aspect-ratio: {{image_aspect_ratio}}" srcset="{{gt_image_srcset(slideImage, {"aspect_ratio" : aspect_ratio} )}}" alt="{{slideImage.alt}}" width="{{slideImage.width}}" height="{{slideImage.height}}" class="carousel-thumbnail-gallery__thumbnail-slide-image">

				</div>
			{% endfor %}
		</div>
	</div>
	{% if fields.nav_arrows %}
		<div class="carousel-thumbnail-gallery__nav-arrow-container">
			<div class="carousel-thumbnail-gallery__button-prev swiper-button-prev"></div>
			<div class="carousel-thumbnail-gallery__button-next swiper-button-next"></div>
		</div>
	{% endif %}
</section>
