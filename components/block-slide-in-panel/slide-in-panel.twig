{# Do not edit this file outside of the component library as your changes will be lost with future updates. #}
{% set blockClassName = "slide-in-panel" %}
{% set classNameEntryPoint = include('entry-points/entry-point-classes.twig', { fields, block }, with_context = false) %}
{% set htmlEntryPoint = include('entry-points/entry-point-html.twig', { fields, block, blockClassName, options, environment, is_preview, nav_menus }, with_context = false) %}
{% set dataAttributeEntryPoint = include('entry-points/entry-point-data-attribute.twig', { fields, block }, with_context = false) %}
{% set styleEntryPoint = include('entry-points/entry-point-style.twig', { fields, block, displaytype, is_preview }, with_context = false) %}
{% set previewEntryPoint = include('entry-points/entry-point-preview-info.twig', { fields, block, displaytype, is_preview }, with_context = false) %}

{% set panelTriggerCtaStyle = fields.panel_trigger_cta_style|ru %}
{% set panelBackgroundColour = '--panel-background-colour:' ~ fields.panel_background_colour ~ ';' %}
{% set panelTriggerText = fields.panel_trigger_text %}


{% set sectionStyles =  styleEntryPoint ~ panelBackgroundColour %}


<section {{block.anchor ? "id=" ~ block.anchor : ''}} class="slide-in-panel {{classNameEntryPoint}} {{block.className}} lazy-fade {{block.id}}" {{dataAttributeEntryPoint}} style="{{sectionStyles}}" data-blockid={{block.id}} data-assetkey="{{blockClassName}}">


	<button class="{{blockClassName}}__trigger {{blockClassName}}__cta cmpl-cta-style-{{panelTriggerCtaStyle}}">{{panelTriggerText}}</button>

	{% for section in fields.content_sections %}
		{% if block %}
			{% set block = block|merge({'anchor' : ''}) %}
		{% endif %}
		<div class="{{blockClassName}}__panel">
			<button class="{{blockClassName}}__close-button"></button>
			{{ include('blocks/' ~ (section.acf_fc_layout|replace({ '_': '-' })) ~ '.twig', { fields: section, options, block }, with_context = false) }}
		</div>
	{% endfor %}

	{{htmlEntryPoint}}
</section>
