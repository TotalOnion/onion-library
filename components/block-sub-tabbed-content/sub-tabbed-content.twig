{# Do not edit this file outside of the component library as your changes will be lost with future updates. #}
{% set blockClassName = "sub-tabbed-content" %}
{% set displaytype = 'grid' %}

{% set classNameEntryPoint = include('entry-points/entry-point-classes.twig', { fields, block }, with_context = false) %}
{% set htmlEntryPoint = include('entry-points/entry-point-html.twig', { fields, block, blockClassName, options, environment, is_preview, nav_menus, cta_styles }, with_context = false) %}

{% set dataAttributeEntryPoint = include('entry-points/entry-point-data-attribute.twig', { fields, block }, with_context = false) %}
{% set styleEntryPoint = include('entry-points/entry-point-style.twig', { fields, block, displaytype, is_preview }, with_context = false) %}
{% set previewEntryPoint = include('entry-points/entry-point-preview-info.twig', { fields, block, displaytype, is_preview }, with_context = false) %}

{% set buttonGapDesktop = '--button-gap-desktop: ' ~ fields.button_gap_desktop  ~ ';' %}
{% set buttonGapPortrait = '--button-gap-portrait: ' ~ fields.button_gap_portrait  ~ ';' %}
{% set buttonGapMobile = '--button-gap-mobile: ' ~ fields.button_gap_mobile  ~ ';' %}


{% set tabCtaStyle = fields.cta_style|ru %}
{% set sectionStyles =  styleEntryPoint ~ buttonGapDesktop ~ buttonGapPortrait ~ buttonGapMobile %}


{{previewEntryPoint}}
<section {{block.anchor ? "id=" ~ block.anchor : ''}} class="{{blockClassName}} {{blockClassName}} {{block.className}} {{classNameEntryPoint}} lazy-fade {{block.id}}" {{dataAttributeEntryPoint}} style="{{sectionStyles}}" data-assetkey="{{blockClassName}}">
	<div class="{{blockClassName}}__tab-container">
		{% for section in fields.tabbed_sections %}
			<button data-buttonid="{{loop.index}}" class="{{blockClassName}}__tab-cta cmpl-cta-style-{{tabCtaStyle}} cta-style-inactive">{{section.tab_label}}</button>
		{% endfor %}
	</div>
	{% for section in fields.tabbed_sections %}
		{% set blockColumnsDesktop = '--columns-desktop: ' ~ section.columns_desktop ~ ';' %}
		{% set blockColumnsPortrait = '--columns-portrait: ' ~ section.columns_portrait ~ ';' %}
		{% set blockColumnsMobile = '--columns-mobile: ' ~ section.columns_mobile ~ ';' %}
		{% set blockColumnGapDesktop = '--column-gap-desktop: ' ~ section.column_gap_desktop ~ ';' %}
		{% set blockColumnGapPortrait = '--column-gap-portrait: ' ~ section.column_gap_portrait ~ ';' %}
		{% set blockColumnGapMobile = '--column-gap-mobile: ' ~ section.column_gap_mobile ~ ';' %}
		{% set columnLayout = blockColumnsDesktop ~ blockColumnsPortrait ~ blockColumnsMobile ~ blockColumnGapDesktop ~ blockColumnGapPortrait ~ blockColumnGapMobile %}
		<div class="{{blockClassName}}__section-container" data-containerid="{{loop.index}}" style="{{columnLayout}}">
			{% for item in section.section_content %}
				{% set gridLayoutElement = include('components/grid-layout-element.twig', { fields: item, block: block }, with_context = false) %}
				<div class="{{blockClassName}}__section-element-container" style="{{gridLayoutElement}}">
					{% if block %}
						{% set block = block|merge({'anchor' : ''}) %}
					{% endif %}
					{% set path = 'blocks' %}
					{{ include(path ~ '/' ~ (item.acf_fc_layout|replace({ '_': '-' })) ~ '.twig', { fields: item, block: block, blockClassName: blockClassName, options: options, cta_styles }, with_context = false, ignore_missing = true) }}
				</div>
			{% endfor %}
		</div>
	{% endfor %}
	{{htmlEntryPoint}}
</section>
