{# Do not edit this file outside of the component library as your changes will be lost with future updates. #}
{% set blockClassName = "map-container" %}
{% set classNameEntryPoint = include('entry-points/entry-point-classes.twig', { fields, block }, with_context = false) %}
{% set htmlEntryPoint = include('entry-points/entry-point-html.twig', { fields, block, blockClassName, options, environment, is_preview, nav_menus }, with_context = false) %}
{% set dataAttributeEntryPoint = include('entry-points/entry-point-data-attribute.twig', { fields, block }, with_context = false) %}
{% set styleEntryPoint = include('entry-points/entry-point-style.twig', { fields, block, displaytype, is_preview }, with_context = false) %}
{% set previewEntryPoint = include('entry-points/entry-point-preview-info.twig', { fields, block, displaytype, is_preview }, with_context = false) %}

{% set mapHeight = '--map-height:' ~ fields.map_height ~ ';' %}
{% set mapHeightTablet = '--map-height-tablet:' ~ fields.map_height_tablet ~ ';' %}
{% set mapHeightMobile = '--map-height-mobile:' ~ fields.map_height_mobile ~ ';' %}

{% set backgroundColour = '--background-colour:' ~ fields.background_colour ~ ';' %}

{% set sectionStyles =  styleEntryPoint ~ mapHeight ~ mapHeightTablet ~ mapHeightMobile ~ backgroundColour %}

{% set dataLatitude = 'data-latitude="' ~ fields.latitude ~ '"' %}
{% set dataLongitude = 'data-longitude="' ~ fields.longitude ~ '"' %}
{% set dataMapIcon = 'data-mapicon="' ~ fields.map_icon ~ '"' %}
{% set dataMapContent = 'data-mapcontent=' ~ fields.map_content|e('js') ~ '' %}

{% set sectionAttributes = dataLatitude ~ dataLongitude ~ dataMapIcon ~ dataMapContent %}

<style>
	.{{blockClassName}}.{{block.id}}{
		{{sectionStyles}}
	}
</style>

<section {{block.anchor ? "id=" ~ block.anchor : ''}} class="map-container {{blockClassName}} {{block.className}} {{classNameEntryPoint}} lazy-fade {{block.id}}" {{dataAttributeEntryPoint}} {{sectionAttributes}} data-assetkey="{{blockClassName}}">

<script src="https://maps.googleapis.com/maps/api/js?key={{ fields.api_key }}"></script>
	<div id="map" class="{{blockClassName}}__map"></div>
	{{htmlEntryPoint}}
</section>